{% extends "base.html" %}
{% block title %}Profile{% endblock %}
{% block head %}
    {{ super() }}
{% endblock %}
{% block content %}
    <div class="container" id="profileHeader">
        {% with flashes = get_flashed_messages(with_categories=true) %}
            {% if flashes %}
                {% for category, message in flashes %}
                    <div class="alert alert-{{ category }}">{{ message }}</div>
                {% endfor %}
            {% endif %}
        {% endwith %}
        <div class="row">
            <h1 style="text-align:center;">
                <span class="glyphicon glyphicon-star"></span> 
                <b>{{user.firstName}} {{user.lastName}}</b>
            </h1>
            <div class="row mt centered">
                <div class="col-lg-8 col-lg-offset-2">
                    <img class="img-circle" src="{{user.email | gravatar(size=180)}}" alt="">
                    {% if user.quickIntro %}
                        <p>{{user.quickIntro}}</p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
    <div class="container" id="about" >
        <div class="row mt centered">
            <h1>Background</h1>
            <hr>
            <div class="col-lg-8 col-lg-offset-2">
                <p>{{user.background}}</p>
            </div>    
        </div>
    </div>
    <div class="container" id="about-2" >
        <div class="row mt centered">
            <h1>Skills</h1>
            <hr>
            <div class="col-lg-8 col-lg-offset-2">
                {% if skills %}
                    <table class="table table-bordered">
                    <thead>
                        <th><h3><b>Category</b></h3></th>
                        <th><h3><b>Skill</b></h3></th>
                        <th><h3><b>Description</b></h3></th>
                    </thead>
                    {% for skill in skills %}
                        <tr style="text-align:left;">
                            <td><h4> {{ skill.category.name }} </h5> </td>
                            <td> <h4> {{ skill.name }} </h5></td>
                            <td> <h4> {{ skill.description }} </h5></td>
                        </tr>
                    {% endfor %}
            		</table>
                {% else %}
	                <div class="alert alert-info">
	                    <span class="glyphicon glyphicon-info-sign"></span> No skills listed.
	                </div>
                {% endif %}
            </div>   
        </div>
    </div>
    <div class="container" id="about" >
        <div class="row mt centered">
            <h1>Contact</h1>
            <hr>
            <div id="contact-row-6" class="row">
                <div class="col-12 col-sm-4 with-hover-text">
                    <p><h6><i class="glyphicon glyphicon-send"></i></h6></p>
                    <h3>{{user.email}}</h3>
                </div>
                {% if user.phoneNumber %}
                <div class="col-12 col-sm-4 with-hover-text">
                    <p><h6><i class="glyphicon glyphicon-phone"></i></h6></p>
                    <h3>{{user.phoneNumber}}</h3>
                </div>
                {% endif %}

                {% if user.website %}
                <div class="col-12 col-sm-4 with-hover-text">
                    <p><h6><i class="glyphicon glyphicon-globe"></i></h6></p>
                    <h3>{{user.website}}</h3>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %}